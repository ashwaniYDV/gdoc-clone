(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),o=n(46),a=n.n(o),r=n(24),s=n(1),u=n(92),f=n(27),l=n(47),d=n.n(l),b=(n(57),n(48)),j=n(3),O=[["bold","italic","underline","strike"],["image","blockquote","code-block"],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]],h=function(){var e=Object(s.g)().id,t=Object(c.useState)(),n=Object(f.a)(t,2),i=n[0],o=n[1],a=Object(c.useState)(),r=Object(f.a)(a,2),u=r[0],l=r[1];Object(c.useEffect)((function(){var e=Object(b.io)("http://localhost:4500");return o(e),function(){e.disconnect()}}),[]),Object(c.useEffect)((function(){if(i&&u&&e){var t=function(e){u.updateContents(e)};return i.once("load-document",(function(e){u.setContents(e),u.enable()})),i.emit("get-document",e),function(){i.off("receive-changes",t)}}}),[i,u,e]),Object(c.useEffect)((function(){if(i&&u){var e=setInterval((function(){i.emit("save-document",u.getContents())}),2e3);return function(){clearInterval(e)}}}),[i,u]),Object(c.useEffect)((function(){if(i&&u){var e=function(e,t,n){"user"===n&&i.emit("send-changes",e)};return u.on("text-change",e),function(){u.off("text-change",e)}}}),[i,u]),Object(c.useEffect)((function(){if(i&&u){var e=function(e){u.updateContents(e)};return i.on("receive-changes",e),function(){i.off("receive-changes",e)}}}),[i,u]);var h=Object(c.useCallback)((function(e){if(e){e.innerHTML="";var t=document.createElement("div");e.append(t);var n=new d.a(t,{theme:"snow",modules:{toolbar:O}});n.disable(),n.enable(!1),n.setText("loading..."),l(n)}}),[]);return Object(j.jsx)("div",{className:"container",ref:h})},v=function(){return Object(j.jsx)(r.a,{children:Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{exact:!0,path:"/",children:Object(j.jsx)(s.a,{to:"/documents/".concat(Object(u.a)())})}),Object(j.jsx)(s.b,{exact:!0,path:"/documents/:id",children:Object(j.jsx)(h,{})})]})})};n(89);a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.b4382189.chunk.js.map